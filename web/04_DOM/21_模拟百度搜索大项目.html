<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #box {
            width: 450px;
            margin: 200px auto;
        }

        #txt {
            width: 350px;
        }
    </style>
</head>
<body>
<div id="box">
    <input type="text" id="txt" value="">
    <input type="button" value="搜索" id="btn">
</div>
<script src="../common.js"></script>
<script>
  var keyWords = ["小杨才是最纯洁的", "小杨才是最帅的", "小段是最猥琐的", "小超是最龌龊的", "传智播客是一个培训机构", "传说在传智有个很帅很纯洁的小杨", "苹果好吃", "苹果此次召回还是没有中国"];

  //（1）给文本框注册键盘抬起事件
  my$("txt").onkeyup = function () {
    //（2）判断页面有无dv这个元素，有则删除
    if(my$("dv")){
      my$("box").removeChild(my$("dv"));
    }
    // （3）获取文本框的输入内容
    var text = this.value;
    //（4）新建一个临时数组，存放对应的搜索数据
    var tempArr = [];
    //（5）遍历keywords，与文本框输入的内容相比
    for (var i=0; i<keyWords.length; i++){
      if(keyWords[i].indexOf(text) === 0){
        tempArr.push(keyWords[i]);
      }
    }
    // （6）如果临时数组或者搜索框是空的，就不创建dv这个元素
    if(this.value.length === 0 || tempArr.length === 0){
      if(my$("dv")){
        my$("box").removeChild(my$("dv"));
      }
      return false;
    }
    //（7）创建div，加入到页面盒子box中
    var dvObj = document.createElement("div");
    my$("box").appendChild(dvObj);
    dvObj.id = "dv";
    dvObj.style.width = "350px";
    dvObj.style.border = "1px solid pink";
    //（8）遍历循环临时数组tempArr，创建对应的p标签
    for (var j=0; j<tempArr.length; j++){
      var pObj = document.createElement("p");
      dvObj.appendChild(pObj);
      setInnerText(pObj,tempArr[j]);
      pObj.style.margin = 0;
      pObj.style.padding = 0;
      pObj.style.cursor = "pointer";
      pObj.style.marginTop = "5px";
      pObj.style.marginLeft = "5px";
      //（9）定义鼠标进入和离开命名函数
      pObj.onmouseover = f1;
      pObj.onmouseout = f1;
    }
  }
  function f1(e) {
    switch(e.type){
      case "mouseover":
        this.style.backgroundColor = "pink";
        break;
      case "mouseout":
        this.style.backgroundColor = "";
        break;
    }
  }
  // function handlemouseOver() {
  //   this.style.backgroundColor = "pink";
  // }
  // function handlemouseOut() {
  //   this.style.backgroundColor = "";
  // }
</script>
</body>
</html>