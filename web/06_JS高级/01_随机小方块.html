<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .map{
            width: 800px;
            height: 600px;
            background-color: #ccc;
            position: relative;
        }
    </style>
</head>
<body>
<div class="map"></div>
<script src="../common.js"></script>
<script>
    //产生随机函数对象
    //自调用
  (function (window){
    function Random(){}
    Random.prototype.getRandom =  function (min,max){
      return Math.floor(Math.random()*(max-min)+min);
    };
    window.Random = new Random();
  })(window);

    //产生小方块对象
    //自调用
    (function(window){
      var map = document.querySelector(".map");
      function Food(width,height,color){
        this.width = width || 20;
        this.height = height || 20;
        this.x = 0;
        this.y = 0;
        this.color = color;
        this.element = document.createElement("div");
      }
      //初始化小方块的显示效果及位置
      Food.prototype.init = function(map){
        var div = this.element;
        div.style.position = "absolute";
        div.style.width = this.width + "px";
        div.style.height = this.height + "px";
        div.style.backgroundColor = this.color;

        map.appendChild(div);

        //调用自身的方法
        this.render(map);
      };
      //随机产生位置
      Food.prototype.render = function(map){
        var x= Random.getRandom(0,map.offsetWidth/this.width)*this.width;
        var y= Random.getRandom(0,map.offsetHeight/this.height)*this.height;
        this.x = x;
        this.y = y;
        var div = this.element;
        div.style.left = this.x + "px";
        div.style.top = this.y + "px";
      };
      var fd = new Food(20,20,"green");
      fd.init(map);
      console.log(fd.x+"===="+fd.y);
    })(window);

</script>
</body>
</html>